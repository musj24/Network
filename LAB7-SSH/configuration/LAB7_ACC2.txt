# [0] STP 기본(Access 보호 기본값)
spanning-tree mode rapid-pvst
spanning-tree portfast default
spanning-tree portfast bpduguard default

# [1] VLAN 정의
vlan 10
 name HQ_10
vlan 20
 name HQ_20
vlan 30
 name HQ_30
vlan 99
 name native

# [2] Access Port (VLAN + Port-Security + PortFast/BPDU Guard)
interface f0/1
 switchport mode access
 switchport access vlan 10
 switchport port-security
 switchport port-security maximum 1
 switchport port-security mac-address sticky
 switchport port-security violation shutdown
 spanning-tree portfast
 spanning-tree bpduguard enable

interface f0/2
 switchport mode access
 switchport access vlan 10
 switchport port-security
 switchport port-security maximum 1
 switchport port-security mac-address sticky
 switchport port-security violation shutdown
 spanning-tree portfast
 spanning-tree bpduguard enable

interface f0/3
 switchport mode access
 switchport access vlan 20
 switchport port-security
 switchport port-security maximum 1
 switchport port-security mac-address sticky
 switchport port-security violation shutdown
 spanning-tree portfast
 spanning-tree bpduguard enable

interface f0/4
 switchport mode access
 switchport access vlan 20
 switchport port-security
 switchport port-security maximum 1
 switchport port-security mac-address sticky
 switchport port-security violation shutdown
 spanning-tree portfast
 spanning-tree bpduguard enable

interface f0/5
 switchport mode access
 switchport access vlan 30
 switchport port-security
 switchport port-security maximum 1
 switchport port-security mac-address sticky
 switchport port-security violation shutdown
 spanning-tree portfast
 spanning-tree bpduguard enable

interface f0/6
 switchport mode access
 switchport access vlan 30
 switchport port-security
 switchport port-security maximum 1
 switchport port-security mac-address sticky
 switchport port-security violation shutdown
 spanning-tree portfast
 spanning-tree bpduguard enable

# [3] Uplink EtherChannel (LACP) - Trunk
interface port-channel 1
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,30,99,50

interface range g0/1 - 2
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,30,99,50
 channel-group 1 mode active

interface port-channel 2
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,30,99,50

interface range f0/7 - 8
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,30,99,50
 channel-group 2 mode active


# [4] int vlan (관리용)

interface vlan 99
ip address 192.168.99.1 255.255.255.0
ip default-gateway 192.168.99.254

# [5] Syslog

service timastamps log datetime msec
logging on
logging host 192.168.50.4
logging trap debug


# [6] NTP

ntp server 192.168.50.4
clock timezone KST 9


